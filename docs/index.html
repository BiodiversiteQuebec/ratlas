<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>R Package For Access and Analysis Of Data Aggregated By Biodiversité Québec • ratlas</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Package For Access and Analysis Of Data Aggregated By Biodiversité Québec">
<meta name="description" content="ratlas est une librarie R permettant laccès et lanalyse des données de biodiversité aggrégées par le réseau d'observation de la biodiversité du Québec.">
<meta property="og:description" content="ratlas est une librarie R permettant laccès et lanalyse des données de biodiversité aggrégées par le réseau d'observation de la biodiversité du Québec.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ratlas</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/database-access-functions.html">Functions to directly access the database ressources</a></li>
    <li><a class="dropdown-item" href="articles/download-regions-observations.html">Download observations by region from Atlas</a></li>
    <li><a class="dropdown-item" href="articles/post-dataset.html">Write and insert dataset metadata to Atlas</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="documentation-du-paquet-ratlas">Documentation du paquet <code>ratlas</code>
<a class="anchor" aria-label="anchor" href="#documentation-du-paquet-ratlas"></a>
</h1></div>
<p><code>ratlas</code> est un paquet R permettant l’accès et l’analyse des données de biodiversité aggrégée par le réseau d’observation de la biodiversité du Québec.</p>
<p>Ce paquet R expose les services <code>RESTFull</code> de l’API de Atlas. Atlas est un système d’information sur la biodiversité du Québec développé par Biodiversité Québec et le laboratoire d’Écologie Intégrative de l’Université de Sherbrooke.</p>
<p>L’Atlas est depuis tout récemment disponible via un geoparquet (<a href="https://biodiversite-quebec.ca/documentation/acces-atlas" class="external-link">documentation geoparquet</a>). Pour une expérience optimale et plus rapide, nous recommandons d’interagir avec Atlas via ce geoparquet. Toutefois, si vous désirez tout de même utiliser le package <code>ratlas</code>, nous vous recommandons de débuter par la lecture de l’article <a href="https://BiodiversiteQuebec.github.io/ratlas/articles/download-obs.html" class="external-link">tutoriel pour le téléchargement d’observations</a>.</p>
<div class="section level2">
<h2 id="installer-le-paquet-ratlas">Installer le paquet <code>ratlas</code>
<a class="anchor" aria-label="anchor" href="#installer-le-paquet-ratlas"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ReseauBiodiversiteQuebec/ratlas"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sauthentifier-auprès-de-lapi">S’authentifier auprès de l’API<a class="anchor" aria-label="anchor" href="#sauthentifier-aupr%C3%A8s-de-lapi"></a>
</h2>
<p>Un jeton d’accès vous sera mis à disposition par l’équipe de développeur de Atlas. Veuillez les contacter pour en obtenir un de manière sécurisée.</p>
<p>Il est <strong>fortement recommandé</strong> de mettre en cache votre jeton d’accès (jeton d’accès stocké dans un fichier <code>rds</code>) afin de s’assurer qu’il ne soit pas visible ou transmis avec votre code à un autre utilisateur. Ce jeton d’accès est unique et révocable.</p>
<p>Pour cela, il vous suffit simplement d’enregistrer le jeton d’accès directement en tant que <em>Environment variable</em>.</p>
<div class="section level3">
<h3 id="stratégie-1-mise-en-cache-dans-les-variables-denvironnement-de-r">Stratégie 1: Mise en cache dans les variables d’environnement de R<a class="anchor" aria-label="anchor" href="#strat%C3%A9gie-1-mise-en-cache-dans-les-variables-denvironnement-de-r"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/file.edit.html" class="external-link">file.edit</a></span><span class="op">(</span><span class="st">"~/.Renviron"</span><span class="op">)</span></span></code></pre></div>
<p>Cette ligne va ouvrir un ficher text dans votre Rstudio. Rajoutez dans ce ficher un linge comme la suivante:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># utilizez votre propre token ici</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>ATLAS_API_TOKEN<span class="ot">=</span><span class="dv">7</span>f8df438e1be96a18436e9dab5d97d68ed0e0441d9b68f59e0ce631b2919f3aa</span></code></pre></div>
<p><em>Le jeton d’accès est un exemple ici et n’est aucunement valide.</em></p>
</div>
<div class="section level3">
<h3 id="stratégie-2-environnement-au-niveau-os--runtime">Stratégie 2: Environnement au niveau OS / runtime<a class="anchor" aria-label="anchor" href="#strat%C3%A9gie-2-environnement-au-niveau-os--runtime"></a>
</h3>
<p>Vous pouvez également passer votre jeton d’accès en créant une variable d’environnement nommée <code>ATLAS_API_TOKEN</code> au niveau de l’OS ou de l’environnement de dévelopement.</p>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<div class="section level3">
<h3 id="erreur-401--unauthorized">Erreur 401 : Unauthorized<a class="anchor" aria-label="anchor" href="#erreur-401--unauthorized"></a>
</h3>
<p>Si vous obtenez une erreur 401, c’est que votre jeton d’accès n’est pas valide. Veuillez vous assurer que vous avez bien copié le jeton d’accès et que vous l’avez bien mis en cache dans votre environnement de développement.</p>
<p>Pour valider que votre jeton d’accès est bien en cache, vous pouvez utiliser la fonction <code>Sys.getenv("ATLAS_API_TOKEN")</code> qui devrait retourner votre jeton d’accès.</p>
</div>
<div class="section level3">
<h3 id="erreur-curl_fetch_memory-0a00010bssl">Erreur curl_fetch_memory 0A00010B:SSL<a class="anchor" aria-label="anchor" href="#erreur-curl_fetch_memory-0a00010bssl"></a>
</h3>
<p>Erreur possible lors de la récupération (GET) de données via une machine Linux (ici Ubuntu). L’erreur provient du package curl. Un correctif est disponible depuis la version 7.87.0 du package qui elle est disponible depuis la version 23.02 de Ubuntu.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ratlas" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ratlas</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Vincent Beauregard <br><small class="roles"> Author, maintainer </small>   </li>
<li>Benjamin Mercier <br><small class="roles"> Author, contributor </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent Beauregard, Benjamin Mercier.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
